---
title: è®¿é—® Linux æ–‡ä»¶ç³»ç»Ÿ
lang: zh-CN
tags: 
  - Linux
  - RHEL
  - RHCE
  - è®¤è¯è€ƒè¯•
categories: 
  - [å­¦ä¹ , Linux]
  - [æ—¥å¸¸è®°å½•]
  - [è¿ç§»æ–‡ç« ]
---
> ğŸ”´ æ­¤æ–‡ç« ç”±ä¹‹å‰çš„ Typora ç¬”è®°è¿ç§»è¿‡æ¥ï¼Œå†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ã€‚

## æ–‡ä»¶ç³»ç»Ÿå’Œå­˜å‚¨è®¾å¤‡

â€‹Linux æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶æ˜¯æŒ‰ç…§æ–‡ä»¶ç³»ç»Ÿå±‚æ¬¡ç»“æ„ï¼ˆä¸€æ£µé¢ å€’çš„ç›®å½•æ ‘ï¼‰è®¿é—®çš„ï¼Œä¸åŒç›®å½•ä¸‹çš„æ–‡ä»¶å¯èƒ½å­˜å‚¨åœ¨ä¸åŒçš„å­˜å‚¨è®¾å¤‡ä¸‹ã€‚æŸä¸ªå­˜å‚¨è®¾å¤‡çš„æ–‡ä»¶ç³»ç»Ÿè¦æƒ³æ¥å…¥å½“å‰ç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿä¸­éœ€è¦å°†å…¶æŒ‚è½½åˆ°å½“å‰ç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿä¸­çš„æŸä¸ªç©ºç›®å½•ä¸Šï¼Œè¯¥ç›®å½•è¢«ç§°ä¸º â€œæŒ‚è½½ç‚¹â€ã€‚è¿›è¡ŒæŒ‚è½½åä¾¿å¯ä»¥è®¿é—®è¯¥è®¾å¤‡å­˜å‚¨çš„æ–‡ä»¶ï¼Œè¯¥æŒ‚è½½ç‚¹ç›¸å½“äºè¯¥å­˜å‚¨è®¾å¤‡çš„æ ¹ç›®å½•ã€‚

### æ–‡ä»¶ç³»ç»Ÿã€å­˜å‚¨å’Œå—è®¾å¤‡

â€‹åœ¨ Linux ä¸­ï¼Œå¯¹å­˜å‚¨è®¾å¤‡çš„ä½çº§åˆ«è®¿é—®æ˜¯ç”±ä¸€ç§ç§°ä¸ºå—è®¾å¤‡çš„ç‰¹æ®Šç±»å‹æ–‡ä»¶æä¾›çš„ã€‚åœ¨æŒ‚è½½è¿™äº›è®¾å¤‡å‰ï¼Œå¿…é¡»å…ˆä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿå¯¹å…¶è¿›è¡Œæ ¼å¼åŒ–ã€‚

â€‹å—è®¾å¤‡æ–‡ä»¶å’Œå…¶ä»–çš„è®¾å¤‡æ–‡ä»¶ä¸€èµ·å­˜å‚¨åœ¨ */dev* ç›®å½•ä¸­ã€‚è®¾å¤‡æ–‡ä»¶æ˜¯ç”±æ“ä½œç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºçš„ã€‚åœ¨çº¢å¸½ä¼ä¸š Linux ä¸­ï¼Œæ£€æµ‹åˆ°çš„ç¬¬ä¸€ä¸ª SATA/PATA ã€SASã€SCSI æˆ– USB ç¡¬ç›˜é©±åŠ¨å™¨è¢«ç§°ä¸º */dev/sda*ï¼Œç¬¬äºŒä¸ªè¢«ç§°ä¸º */dev/sdb*ï¼Œä»¥æ­¤ç±»æ¨ã€‚è¿™äº›åç§°ä»£è¡¨æ•´ä¸ªç¡¬ç›˜é©±åŠ¨å™¨ã€‚

| è®¾å¤‡ç±»å‹                              | è®¾å¤‡å‘½åæ¨¡å¼               |
| ------------------------------------- | -------------------------- |
| SATA/SAS/USB é™„åŠ å­˜å‚¨                 | /dev/sdaã€/dev/sdb...      |
| virtio-blk è¶…è™šæ‹ŸåŒ–å­˜å‚¨ï¼ˆéƒ¨åˆ†è™šæ‹Ÿæœºï¼‰ | /dev/nvme0ã€/dev/nvme1     |
| NVMe é™„åŠ å­˜å‚¨ï¼ˆå¾ˆå¤š SSDï¼‰             | /dev/nvme0ã€/dev/nvme1     |
| SD/MMC/eMMC å­˜å‚¨ï¼ˆSDå¡ï¼‰              | /dev/mmcblk0ã€/dev/mmcblk1 |

> æœ€æ–°çš„ virtio-scsi è¶…è™šæ‹ŸåŒ–å­˜å‚¨æŠ€æœ¯å¯¹åº”çš„å‘½åå½¢å¼ä¸º /dev/sd*ã€‚

### ç£ç›˜åˆ†åŒºå’Œé€»è¾‘å·

â€‹ä¸€å—ç£ç›˜å¯èƒ½ä¼šè¢«åˆ†ä¸ºè‹¥å¹²ä¸ªåˆ†åŒºä»¥å®ç°ä¸åŒç”¨é€”çš„å­˜å‚¨éœ€æ±‚ï¼Œå¦‚ç³»ç»Ÿåˆ†åŒºã€ç”¨æˆ·ä¸»ç›®å½•åˆ†åŒºã€äº¤æ¢åˆ†åŒºã€å¯åŠ¨åˆ†åŒºç­‰ã€‚è¿™äº›åˆ†åŒºçš„æœ¬è´¨ä¹Ÿæ˜¯å—è®¾å¤‡ï¼Œå…¶å‘½åå½¢å¼ä¸ºï¼šsd\**n*ã€nvme*m*p*n*ï¼ˆn ä»£è¡¨ç¬¬å‡ ä¸ªåˆ†åŒºï¼‰ç­‰ã€‚

â€‹æ•´ç†ç£ç›˜å’Œåˆ†åŒºçš„å¦ä¸€ç§æ–¹å¼æ˜¯é€šè¿‡*é€»è¾‘å·ç®¡ç†*ï¼ˆLVMï¼‰ã€‚é€šè¿‡ *LVM*ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªå—è®¾å¤‡å¯ä»¥æ±‡é›†ä¸ºä¸€ä¸ªå­˜å‚¨æ± ï¼Œç§°ä¸ºå·ç»„ã€‚ç„¶åï¼Œå·ç»„ä¸­çš„ç£ç›˜ç©ºé—´è¢«åˆ†é…åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªé€»è¾‘å·ï¼Œå®ƒä»¬çš„åŠŸèƒ½ç­‰åŒäºé©»ç•™åœ¨ç‰©ç†ç£ç›˜ä¸Šçš„åˆ†åŒºã€‚LVM ç³»ç»Ÿåœ¨åˆ›å»ºæ—¶ä¸ºå·ç»„å’Œé€»è¾‘å·åˆ†é…åç§°ã€‚LVM åœ¨ */dev* ä¸­åˆ›å»ºä¸€ä¸ªåç§°ä¸ç»„ååŒ¹é…çš„ç›®å½•ï¼Œç„¶ååœ¨è¯¥æ–°ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªä¸é€»è¾‘å·åŒåçš„ç¬¦å·é“¾æ¥ã€‚ä¹‹åï¼Œå¯ä»¥æŒ‚è½½è¯¥é€»è¾‘å·æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªå·ç»„å myvgï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªåä¸º mylv çš„é€»è¾‘å·ï¼Œé‚£ä¹ˆå…¶é€»è¾‘å·è®¾å¤‡æ–‡ä»¶çš„å®Œæ•´è·¯å¾„åä¸º */dev/myvg/mylv*ã€‚ 

>é€»è¾‘å·è®¾å¤‡çš„å‘½åå½¢å¼å®é™…ä¸Šæ˜¯å»ºç«‹ä¸å®é™…è®¾å¤‡æ–‡ä»¶çš„ç¬¦å·é“¾æ¥ï¼Œä»¥æ­¤æ¥è®¿é—®è¯¥æ–‡ä»¶ï¼Œå…¶åç§°åœ¨æ¯æ¬¡å¯åŠ¨æ—¶å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚è¿˜æœ‰ä¸€ç§é€»è¾‘å·è®¾å¤‡çš„å‘½åå½¢å¼ï¼Œé‚£å°±æ˜¯ä¸å¸¸ç”¨çš„ */dev/mapper* ä¸­çš„æ–‡ä»¶å»ºç«‹é“¾æ¥ï¼Œä¹Ÿæ˜¯ä¸€ç§ä¸å®é™…è®¾å¤‡æ–‡ä»¶çš„ç¬¦å·é“¾æ¥ã€‚ 

## æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿ

â€‹ä½¿ç”¨ `df` å‘½ä»¤å¯¹æœ¬åœ°å’Œè¿œç¨‹æ–‡ä»¶ç³»ç»Ÿè®¾å¤‡åŠå¯ç”¨ç©ºé—´å¤§å°å¯ä»¥æœ‰ä¸ªç®€ç•¥äº†è§£ã€‚

```bash 
[root@localhost ~]\# df
Filesystem     1K-blocks    Used Available Use% Mounted on
devtmpfs         1880292       0   1880292   0% /dev
tmpfs            1899208       0   1899208   0% /dev/shm
tmpfs            1899208    9884   1889324   1% /run
tmpfs            1899208       0   1899208   0% /sys/fs/cgroup
/dev/nvme0n1p3  18555904 4878480  13677424  27% /
/dev/nvme0n1p1    301728  178008    123720  59% /boot
tmpfs             379840    1168    378672   1% /run/user/42
tmpfs             379840       0    379840   0% /run/user/0
```

â€‹å…¶ä¸­ *tmpfs* å’Œ *devtmpfs* è®¾å¤‡æ˜¯ç³»ç»Ÿå†…å­˜ä¸­çš„æ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨ç³»ç»Ÿé‡å¯åï¼Œå†™å…¥ *tmpfs* æˆ– *devtmpfs* çš„æ–‡ä»¶éƒ½ä¼šæ¶ˆå¤±ã€‚

â€‹ä½¿ç”¨é€‰é¡¹ *-h*ã€å•ä½ä¸º KiBï¼ˆ2\^10ï¼‰ã€MiBï¼ˆ2\^20ï¼‰æˆ–GiBï¼ˆ2\^30ï¼‰ã€‘æˆ–é€‰é¡¹ *-H*ã€å•ä½ä¸º KB(10\^3)ã€MB(10\^6)æˆ–GB(10\^9)ã€‚

```bash
[root@localhost ~]\# df -h
Filesystem      Size  Used Avail Use% Mounted on
devtmpfs        1.8G     0  1.8G   0% /dev
tmpfs           1.9G     0  1.9G   0% /dev/shm
tmpfs           1.9G  9.6M  1.9G   1% /run
tmpfs           1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/nvme0n1p3   18G  4.7G   14G  27% /
/dev/nvme0n1p1  295M  174M  121M  59% /boot
tmpfs           371M  1.2M  370M   1% /run/user/42
tmpfs           371M     0  371M   0% /run/user/0
-i,	--inodes	# è¾“å‡º inodes æ•°è€Œä¸æ˜¯å¤§å°
```

â€‹ä½¿ç”¨ `du` å‘½ä»¤æŸ¥çœ‹æŸä¸€ç‰¹å®šç›®å½•æ ‘ä½¿ç”¨çš„ç©ºé—´çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ `df`ï¼Œå…¶ä¹Ÿæœ‰ *-h* å’Œ *-H* ä¸¤ä¸ªé€‰é¡¹ã€‚

```bash
[root@localhost ~]\# du /home/student/.config
64	/home/student/.config/pulse
0	/home/student/.config/gnome-session/saved-session
0	/home/student/.config/gnome-session
......
[root@localhost ~]\# du -h /home/student/.config
64K	/home/student/.config/pulse
0	/home/student/.config/gnome-session/saved-session
0	/home/student/.config/gnome-session
......
```

## æŒ‚è½½å’Œå¸è½½æ–‡ä»¶ç³»ç»Ÿ

### æ‰‹åŠ¨æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ

â€‹è¦åœ¨ç³»ç»Ÿä¸­æŒ‚è½½æŸä¸ªå­˜å‚¨è®¾å¤‡æ‰èƒ½è®¿é—®å…¶å†…å®¹ï¼Œä½¿ç”¨ `mount` å‘½ä»¤æ¥æ‰‹åŠ¨æŒ‚è½½æŸä¸ªå­˜å‚¨è®¾å¤‡ã€‚

```bash
mount -a [options]	# æŒ‚è½½ /etc/fstab é…ç½®æ–‡ä»¶ä¸­æ¶‰åŠçš„æ‰€æœ‰é…ç½®
mount [options] <source> <directory>	# å°†è®¾å¤‡æ–‡ä»¶ç³»ç»ŸæŒ‚è½½åˆ°ç›®å½•
```

â€‹å…¶ä¸­ï¼ŒæŒ‡å®šè®¾å¤‡æ—¶æ—¢å¯ä»¥ä½¿ç”¨ */dev* ç›®å½•ä¸­çš„è®¾å¤‡åç§°ä¹Ÿå¯ä»¥ä½¿ç”¨æ ¼å¼åŒ–æ–‡ä»¶ç³»ç»Ÿæ—¶äº§ç”Ÿçš„ UUIDã€‚

### æŸ¥çœ‹ç³»ç»Ÿè¿æ¥çš„å—è®¾å¤‡

â€‹ä½¿ç”¨ `lsblk` å‘½ä»¤æ¥åˆ—å‡ºæŒ‡å®šå—è®¾å¤‡æˆ–æ‰€æœ‰å¯ç”¨å—è®¾å¤‡çš„è¯¦ç»†ä¿¡æ¯ï¼š

```bash
[root@localhost ~]\# lsblk	# ä¸ä¼šåˆ—å‡ºä¸´æ—¶å†…å­˜æ–‡ä»¶ç³»ç»Ÿ tmpfs
NAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sr0          11:0    1 1024M  0 rom  
nvme0n1     259:0    0   20G  0 disk 
â”œâ”€nvme0n1p1 259:1    0  300M  0 part /boot
â”œâ”€nvme0n1p2 259:2    0    2G  0 part [SWAP]
â””â”€nvme0n1p3 259:3    0 17.7G  0 part /
```

### æŒ‰å—è®¾å¤‡åç§°æŒ‚è½½

â€‹ä»¥ä¸‹å‘½ä»¤å°† */dev/sdb1* è®¾å¤‡æŒ‚è½½åˆ° */mnt/data* ç›®å½•ä¸­ã€‚

```bash
[root@localhost ~]\# mount /dev/sdb1 /mnt/data
```

â€‹è‹¥è¦æŒ‚è½½æˆåŠŸï¼Œç›®æ ‡ç›®å½•å¿…é¡»å­˜åœ¨ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œ*/mnt* ç›®å½•å­˜åœ¨å¹¶ç”¨ä½œä¸´æ—¶æŒ‚è½½ç‚¹ï¼Œå¯ä»¥å°† */mnt* ç›®å½•ç”¨ä½œä¸´æ—¶æŒ‚è½½ç‚¹ï¼ˆåˆ›å»º */mnt* çš„ä¸€ä¸ªå­ç›®å½•ä¼šæ›´å¥½ï¼‰ã€‚

> è‹¥ç³»ç»Ÿè°ƒæ•´è¿‡å­˜å‚¨è®¾å¤‡åˆ™æ“ä½œç³»ç»Ÿæ£€æµ‹ç£ç›˜çš„é¡ºåºå¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå°†ä¼šå¯¼è‡´å­˜å‚¨è®¾å¤‡çš„åç§°çš„æ”¹å˜ï¼Œæœ€å¥½é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼ˆæŒ‰ç…§æ–‡ä»¶ç³»ç»Ÿ UUID æŒ‚è½½ï¼‰è¿›è¡ŒæŒ‚è½½ã€‚

### æŒ‰æ–‡ä»¶ç³»ç»Ÿ UUID æŒ‚è½½

â€‹UUID å³é€šç”¨å”¯ä¸€è¯†åˆ«ç ï¼Œå®ƒå”¯ä¸€æ€§çš„ä»£è¡¨æŸä¸ªäº‹ç‰©ï¼Œå¯ç”¨ä½œæŸä¸ªå­˜å‚¨è®¾å¤‡ä¸Šçš„æ–‡ä»¶ç³»ç»Ÿçš„å”¯ä¸€æ€§æ ‡è¯†ã€‚ä½¿ç”¨ `lsblk -fp` å‘½ä»¤å¯ä»¥åˆ—å‡ºè®¾å¤‡çš„å®Œæ•´è·¯å¾„ã€å…¶ UUID å’ŒæŒ‚è½½ç‚¹ï¼Œä»¥åŠåˆ†åŒºä¸­æ–‡ä»¶ç³»ç»Ÿçš„ç±»å‹ã€‚å¦‚æœæœªæŒ‚è½½æ–‡ä»¶ç³»ç»Ÿï¼Œåˆ™æŒ‚è½½ç‚¹å°†ä¸ºç©ºã€‚

```bash
[root@localhost ~]\# lsblk -fp
NAME             FSTYPE LABEL UUID                                 MOUNTPOINT
/dev/sr0                                                           
/dev/nvme0n1                                                       
â”œâ”€/dev/nvme0n1p1 xfs          529dd49b-7b72-4394-8fbb-98eb7f24de1e /boot
â”œâ”€/dev/nvme0n1p2 swap         bb97577f-bf23-4a75-8ff1-46b7dce21eb9 [SWAP]
â””â”€/dev/nvme0n1p3 xfs          360e2f42-d6de-4209-8487-f36b7cc69cc2 /
```

â€‹æ ¹æ®æ–‡ä»¶ç³»ç»Ÿçš„ UUID æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿã€‚

```bash
[root@localhost ~]\# mount UUID="360e2f42-d6de-4209-8487-f36b7cc69cc2" /
```

### è‡ªåŠ¨æŒ‚è½½å¯ç§»åŠ¨å­˜å‚¨è®¾å¤‡

â€‹ç™»é™†å›¾å½¢ç•Œé¢æ’å…¥ä»»ä½•å¯ç§»åŠ¨å­˜å‚¨æ—¶ä¼šè‡ªåŠ¨æŒ‚è½½ã€‚å¯ç§»åŠ¨å­˜å‚¨è®¾å¤‡å°†æŒ‚è½½åˆ° */run/media/USERNAME/LABEL*ï¼Œå…¶ä¸­ USERNAME æ˜¯ç™»é™†å›¾å½¢ç•Œé¢ç¯å¢ƒçš„ç”¨æˆ·åï¼Œè€Œ LABEL æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œé€šå¸¸æ˜¯åˆ›å»ºæ—¶ç»™æ–‡ä»¶ç³»ç»Ÿå–çš„åç§°ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚åœ¨ç§»é™¤è®¾å¤‡ä¹‹å‰ï¼Œåº”æ‰‹åŠ¨å°†å®ƒå¸è½½ã€‚

### å¸è½½æ–‡ä»¶ç³»ç»Ÿ

â€‹å…³æœºå’Œé‡æ–°å¯åŠ¨è¿‡ç¨‹ä¼šè‡ªåŠ¨å¸è½½æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œç¼“å­˜åœ¨å†…å­˜ä¸­çš„ä»»ä½•æ–‡ä»¶ç³»ç»Ÿæ•°æ®éƒ½å°†ä¼šåˆ·æ–°åˆ°å­˜å‚¨è®¾å¤‡ä¸­ï¼Œä»è€Œç¡®ä¿æ–‡ä»¶ç³»ç»Ÿä¸ä¼šé­å—æ•°æ®æŸåã€‚

> æ–‡ä»¶ç³»ç»Ÿæ•°æ®é€šå¸¸ç¼“å­˜åœ¨å†…å­˜ä¸­ã€‚å› æ­¤ï¼Œä¸ºäº†é¿å…æŸåç£ç›˜ä¸Šçš„æ•°æ®ï¼ŒåŠ¡å¿…å…ˆå¸è½½å¯ç§»åŠ¨é©±åŠ¨å™¨ï¼Œç„¶åå†æ‹”ä¸‹å®ƒä»¬ã€‚å¸è½½è¿‡ç¨‹ä¼šåœ¨é‡Šæ”¾é©±åŠ¨å™¨ä¹‹å‰åŒæ­¥æ•°æ®ï¼Œä»¥ç¡®ä¿æ•°æ®å®Œæ•´æ€§ã€‚

â€‹ä½¿ç”¨ `umount` å‘½ä»¤æ¥å¸è½½è®¾å¤‡ï¼Œè¯¥å‘½ä»¤éœ€è¦æŒ‚è½½ç‚¹ä½œä¸ºå‚æ•°ã€‚

```bash
[root@localhost ~]\# umount /mnt/data
```

â€‹æ­£åœ¨ä½¿ç”¨çš„æ–‡ä»¶ç³»ç»Ÿå°†æ— æ³•æˆåŠŸå¸è½½ï¼Œè‹¥è¦æˆåŠŸæ‰§è¡Œä¸Šè¿°å‘½ä»¤ï¼Œåˆ™æ‰€æœ‰è¿›ç¨‹éƒ½éœ€è¦åœæ­¢è®¿é—®å¸è½½ç‚¹ä¸‹çš„æ•°æ®ã€‚

â€‹ä½¿ç”¨ `lsof` å‘½ä»¤å¯ä»¥åˆ—å‡ºæ‰€ç»™ç›®å½•ä¸­æ‰€æœ‰æ‰“å¼€çš„æ–‡ä»¶ä»¥åŠè®¿é—®å®ƒä»¬çš„è¿›ç¨‹ã€‚

```bash
[root@localhost ~]\# lsof /root
COMMAND    PID USER   FD   TYPE DEVICE SIZE/OFF     NODE NAME
bash      3082 root  cwd    DIR  259,3      219 33575041 /root
sftp-serv 3123 root  cwd    DIR  259,3      219 33575041 /root
sftp-serv 3123 root    8r   DIR  259,3      219 33575041 /root
lsof      3794 root  cwd    DIR  259,3      219 33575041 /root
lsof      3795 root  cwd    DIR  259,3      219 33575041 /root
```

> å¸¸è§çš„æ— æ³•å¸è½½çš„åŸå› æ˜¯å½“å‰å‘½ä»¤è¡Œçš„å·¥ä½œç›®å½•å¤„äºæŒ‚è½½ç‚¹æˆ–å…¶å­ç›®å½•ä¸­ï¼Œå°†å·¥ä½œç›®å½•åˆ‡æ¢åˆ°æŒ‚è½½ç‚¹ä¹‹å¤–å³å¯è§£å†³æ­¤é—®é¢˜ã€‚

## æŸ¥æ‰¾ç³»ç»Ÿä¸­çš„æ–‡ä»¶

### æœç´¢æ–‡ä»¶

â€‹ä½¿ç”¨ `locate` å’Œ `find` å‘½ä»¤è¿›è¡Œæ–‡ä»¶ç³»ç»Ÿå±‚æ¬¡ç»“æ„ä¸­æœç´¢æ–‡ä»¶çš„æ“ä½œã€‚

- `locate` å‘½ä»¤æœç´¢é¢„ç”Ÿæˆç´¢å¼•ä¸­çš„æ–‡ä»¶åæˆ–æ–‡ä»¶è·¯å¾„ï¼Œå¹¶å³ä½¿è¿”å›ç»“æœï¼›
- `find` å‘½ä»¤é€šè¿‡çˆ¬å–æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿå±‚æ¬¡ç»“æ„æ¥å®æ—¶æœç´¢æ–‡ä»¶ã€‚

### æ ¹æ®åç§°æŸ¥æ‰¾æ–‡ä»¶

â€‹ä½¿ç”¨ `locate` å‘½ä»¤æœç´¢æ–‡ä»¶ä¼šæ¯”è¾ƒå¿«é€Ÿï¼Œå› ä¸ºå®ƒæ˜¯ä» *mlocate* æ•°æ®åº“ä¸­æŸ¥æ‰¾çš„ä¿¡æ¯ï¼Œä½†æ˜¯è¯¥æ•°æ®åº“æ˜¯æ¯æ—¥è‡ªåŠ¨æ›´æ–°çš„è€Œä¸æ˜¯å®æ—¶æ›´æ–°çš„ï¼Œ*root* ç”¨æˆ·å¯ä»¥é€šè¿‡å‘½ä»¤ `updatedb` æ¥å¼ºåˆ¶æ›´æ–°æ•°æ®åº“ã€‚

```bash
[root@localhost ~]\# updatedb
```

â€‹æ™®é€šç”¨æˆ·çš„æœç´¢ç»“æœä¼šæ ¹æ®ç”¨æˆ·çš„è®¿é—®æƒé™ä½œå‡ºé™åˆ¶ã€‚

```bash
[root@localhost ~]\# locate Desktop # å­ä¸²åŒ¹é…
/home/student/Desktop
/usr/lib/python3.6/site-packages/xdg/DesktopEntry.py
/usr/lib/python3.6/site-packages/xdg/__pycache__/DesktopEntry.cpython-36.opt-1.pyc
/usr/lib/python3.6/site-packages/xdg/__pycache__/DesktopEntry.cpython-36.pyc
/usr/lib64/girepository-1.0/GDesktopEnums-3.0.typelib
......
```

â€‹ä½¿ç”¨ *-i* é€‰é¡¹æ¥å¿½ç•¥å¤§å°å†™é™åˆ¶ï¼Œ*-n* é€‰é¡¹æ¥é™åˆ¶å‘½ä»¤è¿”å›çš„æœç´¢ç»“æœæ•°é‡ï¼š

```bash
[root@localhost ~]\# locate -i -n 5 messages 
/usr/lib/locale/C.utf8/LC_MESSAGES
/usr/lib/locale/C.utf8/LC_MESSAGES/SYS_LC_MESSAGES
/usr/lib/locale/en_AG/LC_MESSAGES
/usr/lib/locale/en_AG/LC_MESSAGES/SYS_LC_MESSAGES
/usr/lib/locale/en_AU/LC_MESSAGES
```

### å®æ—¶æœç´¢æ–‡ä»¶

â€‹ä½¿ç”¨ `find` å‘½ä»¤å®æ—¶éå†æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿæ¥æŸ¥æ‰¾æ–‡ä»¶ã€‚å®ƒæ¯” `locate` æ›´æ…¢å¾—åˆ°æœç´¢ç»“æœä½†æ˜¯ä¼šæ›´å‡†ç¡®ï¼Œå®ƒä¸ä»…æ”¯æŒæœç´¢æ–‡ä»¶åï¼Œè¿˜æ”¯æŒæ ¹æ®æ–‡ä»¶çš„æƒé™ã€ç±»å‹ã€å¤§å°æˆ–ä¿®æ”¹æ—¶é—´æ¥æœç´¢æ–‡ä»¶ã€‚

â€‹`find` å‘½ä»¤æŸ¥çœ‹æ–‡ä»¶åŠç›®å½•çš„æƒé™ä¸æ‰§è¡Œè¯¥å‘½ä»¤çš„ç”¨æˆ·ä¿æŒä¸€è‡´ã€‚

```bash
find [options] [path...] [expression]	# find å‘½ä»¤æ ¼å¼
# é»˜è®¤ path ä¸ºå½“å‰ç›®å½•ï¼Œé»˜è®¤ expression ä¸º -printï¼ˆå³æ‰“å°æœç´¢ç»“æœï¼‰
```

#### æŒ‰ç…§æ–‡ä»¶åæœç´¢æ–‡ä»¶

```bash
[root@localhost ~]\# find / -name ssh_config
/etc/ssh/ssh_config
[root@localhost ~]\# find /home/student -name "*.txt" | head -n 5	# ä½¿ç”¨é€šé…ç¬¦
/home/student/.mozilla/firefox/uf3n2m6z.default-default/pkcs11.txt
/home/student/.mozilla/firefox/uf3n2m6z.default-default/SiteSecurityServiceState.txt
/home/student/.mozilla/firefox/uf3n2m6z.default-default/SecurityPreloadState.txt
/home/student/.mozilla/firefox/uf3n2m6z.default-default/TRRBlacklist.txt
/home/student/.mozilla/firefox/uf3n2m6z.default-default/AlternateServices.txt
[root@localhost ~]\# find /usr/share -iname "*messages" | head -n 3	# iname å¿½ç•¥ç”¨æˆ·åå¤§å°å†™
/usr/share/locale/af/LC_MESSAGES
/usr/share/locale/az/LC_MESSAGES
/usr/share/locale/bg/LC_MESSAGES
```

#### æ ¹æ®æ‰€æœ‰æƒæˆ–æƒé™æœç´¢æ–‡ä»¶

```bash
[root@localhost ~]\# find /home/student/.pki  -user student	# æŒ‰ç”¨æˆ·æœç´¢
/home/student/.pki
/home/student/.pki/nssdb
[root@localhost ~]\# find / -group cdrom	# æŒ‰ç”¨æˆ·ç»„æœç´¢
/dev/sr0
/dev/sg0
......
[root@localhost ~]\# find /etc/ssh/ssh_config -uid 0	# æŒ‰ç”¨æˆ· id æœç´¢
/etc/ssh/ssh_config
[root@localhost ~]\# find / -user root -gid 12	# ç”¨æˆ·å’Œç”¨æˆ·ç»„ï¼ˆmailï¼‰æ­é…ä½¿ç”¨
/var/spool/mail
```

â€‹ä½¿ç”¨ *-perm* æŒ‰ç…§ç‰¹å®šæƒé™è¿›è¡Œæœç´¢ï¼Œä½¿ç”¨æ•°å­—è¡¨ç¤ºæ³•ï¼Œè¯¦ç»†æƒ…å†µå¯ä»¥å‚è€ƒå‰é¢æœ‰å…³ç« èŠ‚çš„å†…å®¹ã€‚*-perm* é€‰é¡¹çš„å‚æ•°çš„å‰é¢å¯ä»¥åŠ ä¸Š */* æˆ– *\-* ç¬¦å·ã€‚å…¶ä¸­ */* ä»£è¡¨åŒ¹é… *u*,*g*,*o* ä¸­çš„è‡³å°‘ä¸€ä¸ªå­˜åœ¨æ‰åŒ¹é…ï¼Œ*-* ä»£è¡¨ *u*,*g*,*o* éœ€è¦éƒ½å­˜åœ¨æ‰åŒ¹é…ã€‚

```bash
[root@localhost ~]\# find -perm 764	# åŒ¹é…ç”¨æˆ·å…·æœ‰ rwx æƒé™ï¼Œç»„æˆå‘˜å…·æœ‰ rw æƒé™ä»¥åŠå…¶ä»–äººåªæœ‰è¯»æƒé™çš„æ–‡ä»¶
[root@localhost ~]\# find -perm -324	# åŒ¹é…ç”¨æˆ·è‡³å°‘æ‹¥æœ‰ wx æƒé™ï¼Œç»„æˆå‘˜è‡³å°‘æ‹¥æœ‰ w æƒé™ï¼Œå…¶ä»–æˆå‘˜è‡³å°‘å…·æœ‰ r æƒé™çš„æ–‡ä»¶
[root@localhost ~]\# find -perm /442	# åŒ¹é…ç”¨æˆ·å…·æœ‰ r æƒé™æˆ–è€…ç»„æˆå‘˜å…·æœ‰ r æˆ–è€…å…¶ä»–äººå…·æœ‰ w æƒé™çš„æ–‡ä»¶
[root@localhost ~]\# find -perm -004	# åŒ¹é…å…¶ä»–äººè‡³å°‘æ‹¥æœ‰ r æƒé™çš„æ–‡ä»¶
```

#### æ ¹æ®å¤§å°æœç´¢æ–‡ä»¶

```bash
# 1. æœç´¢å¤§å°ä¸º 10 å…†å­—èŠ‚ï¼ˆå‘ä¸Šå–æ•´ï¼‰çš„æ–‡ä»¶
[root@localhost ~]\# find /boot -size 10M
/boot/vmlinuz-4.18.0-240.el8.x86_64	# å®é™… 9.1M
/boot/vmlinuz-0-rescue-6651ee1da4824a37975cd5245c8cb076	# å®é™… 9.1M
# 2. æœç´¢å¤§å°è¶…è¿‡ 10 å…†å­—èŠ‚çš„æ–‡ä»¶
[root@localhost ~]\# find /boot -size +10M
/boot/initramfs-4.18.0-240.el8.x86_64.img
/boot/initramfs-0-rescue-6651ee1da4824a37975cd5245c8cb076.img
/boot/initramfs-4.18.0-240.el8.x86_64kdump.img
# 3. æœç´¢å¤§å°ä¸è¶…è¿‡ 10 å…†å­—èŠ‚çš„æ–‡ä»¶
[root@localhost ~]\# find /boot -size -10M
/boot
/boot/efi
/boot/efi/EFI
/boot/efi/EFI/redhat
......
```

#### æ ¹æ®ä¿®æ”¹æ—¶é—´æœç´¢æ–‡ä»¶

```bash
# 1. æœç´¢ 120min å‰ä¿®æ”¹çš„æ–‡ä»¶ï¼ˆå‘ä¸‹èˆå…¥ï¼‰ã€119min - 120minã€‘
[root@localhost ~]\# find / -mmin 120
# 2. æœç´¢åœ¨ 200min+ å‰ä¿®æ”¹è¿‡çš„æ–‡ä»¶
[root@localhost ~]\# find / -mmin +120
# 3. æœç´¢è¿‡å» 150min å†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶
[root@localhost ~]\# find / -mmin -150
```

#### æ ¹æ®æ–‡ä»¶ç±»å‹æœç´¢æ–‡ä»¶

â€‹ä¸åŒæ–‡ä»¶ç±»å‹çš„æ ‡å¿—å¦‚ä¸‹ï¼š

- *f*ï¼Œæ™®é€šæ–‡ä»¶
- *d*ï¼Œç›®å½•
- *l*ï¼Œè½¯é“¾æ¥
- *b*ï¼Œå—è®¾å¤‡

```bash
[root@localhost ~]\# find /dev -type b
/dev/sr0
/dev/nvme0n1p3
/dev/nvme0n1p2
/dev/nvme0n1p1
/dev/nvme0n1
```
